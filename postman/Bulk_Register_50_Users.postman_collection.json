{
  "info": {
    "name": "Kooka - Bulk Register 50 Users",
    "description": "Collection để đăng ký hàng loạt 50 users với email @gmail.com. Sử dụng file bulk_register_data.json để chạy với Runner.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Bulk Register Users",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "// Danh sách tên Việt Nam",
              "const firstNames = ['An', 'Bảo', 'Chi', 'Dương', 'Hà', 'Huy', 'Khánh', 'Linh', 'Mai', 'Nam', 'Phương', 'Quân', 'Tâm', 'Thảo', 'Trung', 'Tú', 'Uyên', 'Vân', 'Xuân', 'Yến', 'Anh', 'Bình', 'Cường', 'Đức', 'Giang', 'Hiền', 'Khoa', 'Long', 'Minh', 'Nhân', 'Phúc', 'Quang', 'Sơn', 'Tùng', 'Việt', 'Hương', 'Lan', 'Nga', 'Thư', 'Trang'];",
              "",
              "const lastNames = ['Nguyễn', 'Trần', 'Lê', 'Phạm', 'Hoàng', 'Phan', 'Vũ', 'Võ', 'Đặng', 'Bùi', 'Đỗ', 'Hồ', 'Ngô', 'Dương', 'Lý', 'Đinh'];",
              "",
              "// Random tên",
              "const randomFirstName = firstNames[Math.floor(Math.random() * firstNames.length)];",
              "const randomLastName = lastNames[Math.floor(Math.random() * lastNames.length)];",
              "",
              "// Tạo email unique",
              "const timestamp = Date.now();",
              "const random = Math.floor(Math.random() * 10000);",
              "const email = `kookauser_${timestamp}_${random}@gmail.com`;",
              "",
              "// Set variables",
              "pm.environment.set('firstName', randomFirstName);",
              "pm.environment.set('lastName', randomLastName);",
              "pm.environment.set('email', email);",
              "",
              "console.log(`Creating user: ${email}`);"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "test",
          "script": {
            "exec": [
              "if (pm.response.code === 201) {",
              "    const response = pm.response.json();",
              "    console.log(`✅ Success: ${response.user.username} (${response.user.email})`);",
              "} else {",
              "    console.log(`❌ Failed: ${pm.response.json().message}`);",
              "}"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"firstName\": \"{{firstName}}\",\n  \"lastName\": \"{{lastName}}\",\n  \"email\": \"{{email}}\",\n  \"password\": \"123456\"\n}"
        },
        "url": {
          "raw": "https://api.kooka.site/api/auth/register",
          "protocol": "https",
          "host": [
            "api",
            "kooka",
            "site"
          ],
          "path": [
            "api",
            "auth",
            "register"
          ]
        },
        "description": "Đăng ký user mới với tên tiếng Việt random và email @gmail.com"
      },
      "response": []
    }
  ]
}
